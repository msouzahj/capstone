<% @timers %>

<!-- timer 2 from another website -->

<html>
<head>
	<!-- Created by K�re Byberg � 21.01.2005. Please acknowledge if used on other domains than http://www.timpelen.com -->
	<!-- Version 1.1 - 22.04.2006 -->
	<title>Javascript Stopwatch (Cumulative Events)</title>

	<script type="text/javascript">
	var flagclock = 0;
	var flagstop = 0;
	var stoptime = 0;
	var splitcounter = 0;
	var currenttime;
	var splitdate = '';
	var output;
	var clock;
		
	function startstop()
		{
		var startstop = document.getElementById('startstopbutton');
		var startdate = new Date();
		var starttime = startdate.getTime();
		if(flagclock==0)
			{
			startstop.value = 'S t o p';
			flagclock = 1;
			counter(starttime);
			}
		else
			{
			startstop.value = 'S t a r t';
			flagclock = 0;
			flagstop = 1;
			splitdate = '';
			}
		}
		
	function counter(starttime)
		{
		output = document.getElementById('output');
		clock = document.getElementById('clock');
		currenttime = new Date();
		var timediff = currenttime.getTime() - starttime;
		if(flagstop == 1)
			{
			timediff = timediff + stoptime
			}
		if(flagclock == 1)
			{
			clock.value = formattime(timediff,'');
			refresh = setTimeout('counter(' + starttime + ');',10);
			}
		else
			{
			window.clearTimeout(refresh);
			stoptime = timediff;
			}
		}
		
	function formattime(rawtime,roundtype)
		{
		if(roundtype == 'round')
			{
			var ds = Math.round(rawtime/100) + '';
			}
		else
			{
			var ds = Math.floor(rawtime/100) + '';		
			}
		var sec = Math.floor(rawtime/1000);
		var min = Math.floor(rawtime/60000);
		ds = ds.charAt(ds.length - 1);
		if(min >= 60)
			{
			startstop();
			}
		sec = sec - 60 * min + '';
		if(sec.charAt(sec.length - 2) != '')
			{
			sec = sec.charAt(sec.length - 2) + sec.charAt(sec.length - 1);
			}
		else
			{
			sec = 0 + sec.charAt(sec.length - 1);
			}	
		min = min + '';
		if(min.charAt(min.length - 2) != '')
			{
			min = min.charAt(min.length - 2)+min.charAt(min.length - 1);
			}
		else
			{
			min = 0 + min.charAt(min.length - 1);
			}
		return min + ':' + sec + ':' + ds;
		}
		
	function resetclock()
		{
		flagstop = 0;
		stoptime = 0;
		splitdate = '';
		window.clearTimeout(refresh);
		output.value = '';
		splitcounter = 0;
		if(flagclock == 1)
			{
			var resetdate = new Date();
			var resettime = resetdate.getTime();
			counter(resettime);
			}
		else
			{
			clock.value = "00:00:0";
			}
		}
		
	function splittime()
		{
		if(flagclock == 1)
			{
			if(splitdate != '')
				{	
				var splitold = splitdate.split(':');
				var splitnow = clock.value.split(':');
				var numbers = new Array();
				var i = 0
				for(i;i<splitold.length;i++)
					{
					numbers[i] = new Array();
					numbers[i][0] = parseInt(splitold[i]);
					numbers[i][1] = parseInt(splitnow[i]);
					}
				if(numbers[1][1] < numbers[1][0])
					{
					numbers[1][1] += 60;
					numbers[0][1] -= 1;
					}
				if(numbers[2][1] < numbers[2][0])
					{
					numbers[2][1] += 10;
					numbers[1][1] -= 1;
					}
				var mzeros = (numbers[0][1] - numbers[0][0]) < 10?'0':'';
				var szeros = (numbers[1][1] - numbers[1][0]) < 10?'0':'';
				output.value += '\t+' + mzeros + (numbers[0][1] - numbers[0][0]) + ':' + szeros + (numbers[1][1] - numbers[1][0]) + ':' + (numbers[2][1] - numbers[2][0]) + '\n';
				}
			splitdate = clock.value;
			<% @saved.push #{splitdate} %>
			output.value += splitcounter + 1 + '. ' + clock.value + '\n';
			splitcounter ++;
			}
		}
	</script>
	<style type="text/css">
	*
		{
		margin: 0;
		padding: 0;
		}
	
	input, textarea
		{
		width: 100%;
		font: normal 10pt verdana;
		}
	</style>
</head>
<body>
	<input id="clock" type="text" value="00:00:0" style="text-align: center;background-color:white;border:1px solid gray;font-weight:bold;font-size:30px;" readonly><br>
	<input id="startstopbutton" class="btn btn-success" type="button" value="S t a r t" onClick="startstop();" style="font-weight:bold"><br>
	<input id="splitbutton" class="btn btn-info" type="button" value="Split time" onClick="splittime();"><br>
	<input id="resetbutton" class="btn btn-danger" type="button" value="Reset" onClick="resetclock();"><br>
	<textarea id="output" style="height: 295px;border:1px solid gray"></textarea>
	<% @saved.each do |a|%>
	  <%= puts a %>	
	<% end %>
<script type="text/javascript"><!--
function SiteStats_8434(){
var t=new Date();
var u='http://proft.50megs.com/cgi-bin/sitestats.gif?p='+escape(location.href)+';r='+escape(document.referrer)+';t='+t.getTime();
var I=new Image(1,1);  I.src=u;
 }
 SiteStats_8434();
//--></script><noscript><img src="http://proft.50megs.com/cgi-bin/sitestats.gif?p=http%3A%2F%2Fproft.50megs.com%2Fstopwatch2.html;r=http%3A%2F%2Fproft.50megs.com%2Fstopwatch.html;t=8434;" width=1 height=1 alt="sitestats"></noscript>
</body>
</html>


<!-- 3rd timer -->

<html>
<head>
<title>Super Neat Javascript Stopwatch</title>
<script language="javascript">
// stopwatch script by Brothercake - http://www.brothercake.com/ (format modified by Proft, 11 Sep 04)

var base = 60;

var clocktimer,dateObj,dh,dm,ds,ms;
var readout='';
var h=1;
var m=1;
var tm=1;
var s=0;
var ts=0;
var ms=0;
var show=true;
var init=0;
var mPLUS=new Array(
	'm0',
	'm1',
	'm2',
	'm3',
	'm4',
	'm5',
	'm6',
	'm7',
	'm8',
	'm9'
	);
var ii=0;

function clearALL() {
	clearTimeout(clocktimer);
	h=1;m=1;tm=1;s=0;ts=0;ms=0;
	init=0;show=true;
	readout='00:00:00.00';
	document.clockform.clock.value=readout;
	var CF = document.clockform;
	for (ij=0;ij<=9;ij++) { CF[mPLUS[ij]].value = ''; }
	ii = 0;
	}

function addMEM() {
if (init>0) {
		var CF = document.clockform;
		CF[mPLUS[ii]].value = readout;
		if (ii==9) { ii = 0; } else { ii++; }
		}
	}


function startTIME() {

var cdateObj = new Date();
var t = (cdateObj.getTime() - dateObj.getTime())-(s*1000);

if (t>999) { s++; }

if (s>=(m*base)) {
	ts=0;
	m++;
	} else {
	ts=parseInt((ms/100)+s);
	if(ts>=base) { ts=ts-((m-1)*base); }
	}

if (m>(h*base)) {
	tm=1;
	h++;
	} else {
	tm=parseInt((ms/100)+m);
	if(tm>=base) { tm=tm-((h-1)*base); }
	}

ms = Math.round(t/10);
if (ms>99) {ms=0;}
if (ms==0) {ms='00';}
if (ms>0&&ms<=9) { ms = '0'+ms; }

if (ts>0) { ds = ts; if (ts<10) { ds = '0'+ts; }} else { ds = '00'; }
dm=tm-1;
if (dm>0) { if (dm<10) { dm = '0'+dm; }} else { dm = '00'; }
dh=h-1;
if (dh>0) { if (dh<10) { dh = '0'+dh; }} else { dh = '00'; }

readout = dh + ':' + dm + ':' + ds + '.' + ms;
if (show==true) { document.clockform.clock.value = readout; }

clocktimer = setTimeout("startTIME()",1);
}

function findTIME() {
if (init==0) {
	dateObj = new Date();
	startTIME();
	init=1;
	} else {
	if(show==true) {
		show=false;
		} else {
		show=true;
		}
	}
}
</script>
</head>
<body bgcolor=tan>
<center><b></b></center>
<form name=clockform>
<table  align=center cellpadding=5><tr><td>
<table cellpadding=3 cellspacing=0 border=0 align=center>
<tr>
<td ><input name=clock value="00:00:00.00" style="text-align:center; height:80px; font-size:30px; font-weight:bold"></td>
</tr>
<tr>
<td colspan=2 >
<input name=starter class="btn btn-success btn-lg" type=button value="Start/Pause" style=" font-weight:bold" onclick="findTIME()">
<input name=marker class="btn btn-info btn-lg" type=button value="Split" style="" onclick="addMEM()"><br>
<input name=clearer class="btn btn-danger btn-lg" type=button value="Reset" onclick="clearALL()">
<font style="font-size:9pt">&nbsp;Timer continues running on Pause</font>
</td>
</tr>
<tr><td colspan=2 align=left>&nbsp;Split 1  <input name=m0 class="form-control"style="text-align:center;"></td></tr>
<tr><td colspan=2 align=left>&nbsp;Split 2  <input name=m1 class="form-control"style="text-align:center;"></td></tr>
<tr><td colspan=2 align=left>&nbsp;Split 3  <input name=m2 class="form-control"style="text-align:center;"></td></tr>
<tr><td colspan=2 align=left>&nbsp;Split 4  <input name=m3 class="form-control"style="text-align:center;"></td></tr>
<tr><td colspan=2 align=left>&nbsp;Split 5  <input name=m4 class="form-control"style="text-align:center;"></td></tr>
<tr><td colspan=2 align=left>&nbsp;Split 6  <input name=m5 class="form-control"style="text-align:center;"></td></tr>
<tr><td colspan=2 align=left>&nbsp;Split 7  <input name=m6 class="form-control"style="text-align:center;"></td></tr>
<tr><td colspan=2 align=left>&nbsp;Split 8  <input name=m7 class="form-control"style="text-align:center;"></td></tr>
<tr><td colspan=2 align=left>&nbsp;Split 9  <input name=m8 class="form-control"style="text-align:center;"></td></tr>
<tr><td colspan=2 align=left>&nbsp;Split 10 <input name=m9 class="form-control"style="text-align:center;"></td></tr>
</table>
<hr>
<center><font size=-1>&uarr; <a href="http://www.brothercake.com/scripts/stopwatch.php" target="_blank">Source (unmodified)</a> &uarr;<br>By Brothercake</font></center>
</td>
</tr></table>
</form>
<br><br>
</script>
<script type="text/javascript">
_uacct = "UA-917701-1";
urchinTracker();
</script>
<script type="text/javascript"><!--
function SiteStats_9275(){
var t=new Date();
var u='http://proft.50megs.com/cgi-bin/sitestats.gif?p='+escape(location.href)+';r='+escape(document.referrer)+';t='+t.getTime();
var I=new Image(1,1);  I.src=u;
 }
 SiteStats_9275();
//--></script><noscript><img src="http://proft.50megs.com/cgi-bin/sitestats.gif?p=http%3A%2F%2Fproft.50megs.com%2Fstopwatch.html;r=https%3A%2F%2Fwww.google.com%2F;t=9275;" width=1 height=1 alt="sitestats"></noscript>
</body>
</html>
